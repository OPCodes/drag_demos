<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        /*#wrap {
            width: 300px;
            height: 300px;
            border: 1px solid #000;
        }*/
        body {
            margin: 0;
        }
        #box {
            width: 100px;
            height: 100px;
            position: absolute;
            top: 100px;
            left: 100px;
            background: red;
        }
    </style>
    <script>
        window.onload = function (){
            var disX,disY;
            box.onmousedown = function (ev){
                disX = ev.clientX - box.offsetLeft;
                disY = ev.clientY - box.offsetTop;
                document.onmousemove = function (ev){

                    var l = ev.clientX - disX;
                    var t = ev.clientY - disY;
                    if( l < 0 ){
                        l = 0;
                    } else if( l > document.documentElement.clientWidth - box.offsetWidth ){
                        l = document.documentElement.clientWidth - box.offsetWidth
                    }
                    if( t < 0 ){
                        t = 0;  
                    } else if( t >= document.documentElement.clientHeight + document.body.scrollTop - box.offsetHeight ){
                        t = document.documentElement.clientHeight + document.body.scrollTop - box.offsetHeight;
                    }
                    
                    box.style.left = l + "px";
                    box.style.top = t + "px";
                }
                document.onmouseup = function (ev){
                    document.onmousemove = null;
                    document.onmouseup = null;
                }
                return false;
            }    
        }
    </script>
</head>
<body id="body" style="height:2000px;">
    <div id="box">121212112121221</div>
</body>
</html>
    